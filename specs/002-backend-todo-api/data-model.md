# Data Model: Backend Todo API

## Entity: Task

### Fields
- **id** (Integer, Primary Key, Auto-increment)
  - Unique identifier for each task
  - Auto-generated by the database
  
- **user_id** (String, Indexed, Required)
  - Foreign key linking the task to a user
  - Extracted from JWT token during creation
  - Indexed for efficient querying by user
  
- **title** (String, Required)
  - Task title/description
  - Minimum length: 1 character
  
- **description** (String, Optional)
  - Detailed description of the task
  - Can be null or empty string
  
- **completed** (Boolean, Default: False)
  - Indicates whether the task is completed
  - Default value is False for new tasks
  
- **created_at** (DateTime, Auto-generated)
  - Timestamp when the task was created
  - Automatically set by the database
  
- **updated_at** (DateTime, Auto-generated)
  - Timestamp when the task was last updated
  - Automatically updated by the database

### Relationships
- **Owner**: Each task belongs to exactly one user (identified by user_id)
- **Access Control**: Users can only access tasks where user_id matches their JWT token's user_id

### Validation Rules
- Title must not be empty or consist only of whitespace
- user_id must match the authenticated user's ID from JWT token
- Only the owner of a task can modify or delete it

### State Transitions
- **Creation**: New task with completed=False
- **Update**: Any field except user_id can be modified by the owner
- **Completion Toggle**: completed field can be toggled by the owner
- **Deletion**: Task can be permanently deleted by the owner only

## Entity: User (Implicit)

### Properties (from JWT)
- **user_id** (String, Required)
  - Unique identifier for the user
  - Extracted from JWT token
- **email** (String, Optional)
  - User's email address
  - Extracted from JWT token for potential future use

### Access Control
- Users can only access their own tasks (where user_id matches JWT)
- Users cannot access or modify other users' tasks